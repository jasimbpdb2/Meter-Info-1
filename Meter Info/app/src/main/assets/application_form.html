<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶™‡¶§‡ßç‡¶∞</title>

    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
}

/* Modern Card Design */
.application-container {
    max-width: 900px;
    margin: 0 auto;
    background: white;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

/* Enhanced Search Section */
.search-section {
    background: #ffffff;
    padding: 25px;
    border-radius: 12px;
    margin-bottom: 25px;
    border: 1px solid #e1e5e9;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
}

/* Type Selector and Search Row */
.type-selector { 
    display: flex; 
    gap: 10px; 
    margin-bottom: 15px; 
}

.search-row { 
    display: flex; 
    gap: 10px; 
    align-items: center; 
}

/* Modern Gradient Buttons */
.type-btn {
    flex: 1; 
    padding: 12px; 
    border: none; 
    border-radius: 8px;
    background: linear-gradient(145deg, #f8f9fa, #e9ecef);
    cursor: pointer; 
    text-align: center; 
    transition: all 0.3s ease;
    font-weight: 600;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.type-btn.active { 
    background: linear-gradient(145deg, #007bff, #0056b3);
    color: white; 
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,123,255,0.3);
}

/* Enhanced Input Fields */
.search-input {
    flex: 1; 
    padding: 14px; 
    border: 2px solid #e1e5e9; 
    border-radius: 8px;
    font-size: 16px;
    transition: all 0.3s ease;
}

.search-input:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
    outline: none;
}

/* Search Button */
.search-btn {
    background: linear-gradient(145deg, #007bff, #0056b3);
    color: white; 
    border: none;
    padding: 14px 24px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
}

.search-btn:disabled { 
    background: #6c757d; 
    cursor: not-allowed;
}

/* Modern Action Buttons */
.action-buttons {
    display: flex; 
    gap: 12px; 
    justify-content: center;
    margin-top: 35px; 
    padding-top: 25px; 
    border-top: 1px solid #e1e5e9;
    flex-wrap: wrap;
}

.btn {
    padding: 14px 24px; 
    border: none; 
    border-radius: 8px; 
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
    min-width: 140px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.btn-print { 
    background: linear-gradient(145deg, #28a745, #1e7e34);
    color: white; 
}

.btn-pdf { 
    background: linear-gradient(145deg, #dc3545, #c82333);
    color: white; 
}

.btn-close { 
    background: linear-gradient(145deg, #6c757d, #545b62);
    color: white; 
}

.btn-back { 
    background: linear-gradient(145deg, #17a2b8, #138496);
    color: white; 
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
}

/* Enhanced Form Table */
.form-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 30px;
    font-size: 17px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    border-radius: 8px;
    overflow: hidden;
}

.form-table tr:nth-child(even) {
    background: #f8f9fa;
}

.form-table td {
    padding: 14px; 
    border: 1px solid #dee2e6; 
    vertical-align: top;
    transition: background-color 0.2s ease;
}

.form-table tr:hover td {
    background: #e3f2fd;
}

.form-table td:first-child {
    font-weight: 700; 
    width: 32%; 
    background: linear-gradient(145deg, #007bff, #0056b3);
    color: white;
    border-right: 3px solid #0056b3;
}

/* Enhanced Header */
.header {
    margin-bottom: 30px;
    padding-bottom: 25px;
    border-bottom: 3px solid #007bff;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    padding: 25px;
    border-radius: 12px;
    text-align: center;
}

.header h1 {
    font-size: 32px;
    color: #2c3e50;
    margin-bottom: 15px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.header p {
    font-size: 18px;
    line-height: 1.5;
    color: #495057;
}

/* Recharge Section */
.recharge-section { 
    margin-top: 30px; 
}

.recharge-table { 
    width: 100%; 
    border-collapse: collapse; 
    font-size: 16px;
}

.recharge-table th, 
.recharge-table td {
    padding: 10px; 
    border: 1px solid #ccc; 
    text-align: center;
}

.recharge-table th { 
    background: #007bff; 
    color: white; 
}

.recharge-table tr:nth-child(even) { 
    background: #f8f9fa; 
}

/* Notes Section */
.notes { 
    margin-top: 30px; 
    padding: 20px; 
    font-size: 17px; 
    background: #f8f9fa;
    border-radius: 8px;
}

.notes strong { 
    display: block; 
    margin-bottom: 15px; 
}

/* Signature */
.signature {
    margin-top: 40px; 
    text-align: right; 
    padding: 20px;
}

.sig-line {
    border-top: 1px solid #000; 
    width: 220px; 
    margin-left: auto; 
    padding-top: 5px;
    display: inline-block;
}

/* Print Optimizations */
@page { 
    size: A4; 
    margin: 15mm; 
}

@media print {
    body { 
        background: white; 
        padding: 0; 
        margin: 0; 
    }
    .search-section, .action-buttons, .debug-info { 
        display: none !important; 
    }
    .application-container { 
        box-shadow: none !important; 
        margin: 0 !important; 
        padding: 0 15mm !important; 
    }
}

/* Enhanced Loading State */
.loading {
    display: none;
    text-align: center;
    padding: 20px;
    background: linear-gradient(145deg, #e3f2fd, #bbdefb);
    border-radius: 8px;
    margin: 15px 0;
    color: #007bff;
    font-weight: 600;
}

/* Better Error Styling */
.error {
    display: none;
    color: #721c24;
    background: linear-gradient(145deg, #f8d7da, #f5c6cb);
    border: 1px solid #f5c6cb;
    border-radius: 8px;
    padding: 15px;
    margin-top: 15px;
    font-weight: 600;
}

.debug-info {
    background: #fafafa; 
    border: 1px solid #ddd; 
    border-radius: 6px;
    padding: 10px; 
    margin-top: 10px; 
    font-size: 12px; 
    color: #6c757d;
    max-height: 150px; 
    overflow-y: auto;
}
    </style>
</head>

<body>
<div class="application-container">

    <div class="search-section" id="searchSection">
        <h2>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶§‡¶•‡ßç‡¶Ø ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®</h2>

        <div class="debug-info" id="debugInfo">
            <strong>‡¶°‡¶ø‡¶¨‡¶æ‡¶ó ‡¶§‡¶•‡ßç‡¶Ø:</strong>
            <div id="debugLog"></div>
        </div>

        <div class="type-selector">
            <div class="type-btn active" id="prepaidBtn" onclick="selectType('prepaid')">‡¶™‡ßç‡¶∞‡¶ø‡¶™‡ßá‡¶á‡¶°</div>
            <div class="type-btn" id="postpaidBtn" onclick="selectType('postpaid')">‡¶™‡ßã‡¶∏‡ßç‡¶ü‡¶™‡ßá‡¶á‡¶°</div>
        </div>

        <div class="search-row">
            <input type="text" id="searchInput" class="search-input" placeholder="‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶®‡¶Ç ‡¶¨‡¶æ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶®‡¶Ç ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®"
                   autofocus autocapitalize="none" autocorrect="off" inputmode="numeric">
            <button onclick="fetchData()" id="searchBtn" class="search-btn">‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®</button>
        </div>

        <div class="loading" id="loading">‡¶°‡ßá‡¶ü‡¶æ ‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</div>
        <div class="error" id="error"></div>
    </div>

    <div class="form-section" id="formSection">

        <div class="header">
            <h1>‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶™‡¶§‡ßç‡¶∞</h1>
            <p>‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶π‡ßÄ ‡¶™‡ßç‡¶∞‡¶ï‡ßå‡¶∂‡¶≤‡ßÄ<br>‡¶¨‡¶ø‡¶ï‡ßç‡¶∞‡¶Ø‡¶º ‡¶ì ‡¶¨‡¶ø‡¶§‡¶∞‡¶£ ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó<br>‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡ßÅ‡ßé ‡¶â‡¶®‡ßç‡¶®‡¶Ø‡¶º‡¶® ‡¶¨‡ßã‡¶∞‡ßç‡¶°, ‡¶∏‡ßÅ‡¶®‡¶æ‡¶Æ‡¶ó‡¶û‡ßç‡¶ú‡•§</p>
        </div>

        <table class="form-table">
            <tr><td>‡ßß‡•§ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶É</td><td id="customerName">-</td></tr>
            <tr><td>‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡¶É</td><td id="fatherName">-</td></tr>
            <tr><td>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ‡¶É</td><td id="address">-</td></tr>
            <tr><td>‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Ç‡¶É</td><td id="mobileNo">-</td></tr>
            <tr><td>‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶®‡¶Ç‡¶É</td><td id="meterNo">-</td></tr>
            <tr><td>‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶®‡¶Ç‡¶É</td><td id="consumerNo">-</td></tr>
            <tr><td>‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶¨‡¶ø‡¶≤‡ßá‡¶∞ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶É</td><td id="arrear">‡¶ï‡ßã‡¶®‡¶ì ‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶®‡ßá‡¶á</td></tr>
        </table>

        <div class="recharge-section">
            <h3>‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø (‡¶™‡ßç‡¶∞‡¶ø‡¶™‡ßá‡¶á‡¶°)</h3>
            <table class="recharge-table" id="rechargeTable">
                <thead>
                <tr><th>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</th><th>‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£</th></tr>
                </thead>
                <tbody>
                <tr><td>-</td><td>-</td></tr>
                <tr><td>-</td><td>-</td></tr>
                <tr><td>-</td><td>-</td></tr>
                <tr><td>-</td><td>-</td></tr>
                </tbody>
            </table>
        </div>

        <section class="notes">
            <strong>‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡ßç‡¶Ø ‡¶Ö‡¶≠‡¶ø‡¶Ø‡ßã‡¶ó (‡¶Ø‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶§‡¶æ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®):</strong>
            <ol>
                <li><input type="checkbox"> ‡¶≤‡ßã‡¶° ‡¶õ‡¶æ‡ßú‡¶æ‡¶ì ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡¶æ‡¶ü‡ßá / ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶ï‡¶æ‡¶ü‡ßá ‡¶®‡¶æ</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ü‡ßÅ‡¶á‡¶∏‡ßç‡¶ü ‡¶ü‡¶æ‡¶á‡¶™ ‡¶∏‡ßÄ‡¶≤ / ‡¶≤‡ßÄ‡¶° / ‡¶™‡ßç‡¶Ø‡¶æ‡¶°‡¶≤‡¶ï ‡¶∏‡ßÄ‡¶≤ ‡¶≠‡¶æ‡¶ô‡¶æ / ‡¶ö‡ßÅ‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶≠‡ßá‡¶ô‡ßá / ‡¶π‡¶æ‡¶∞‡¶ø‡ßü‡ßá / ‡¶™‡ßÅ‡ßú‡ßá ‡¶ó‡ßá‡¶õ‡ßá</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶æ‡¶®‡ßç‡¶§‡¶∞ / ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ü‡¶ó‡ßç‡¶∞‡¶π‡ßÄ</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶°‡¶ø‡¶∏‡¶™‡ßç‡¶≤‡ßá‡¶§‡ßá ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü ‡¶è‡¶≤‡ßã‡¶Æ‡ßá‡¶≤‡ßã</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶ü‡¶ø / ‡¶™‡¶ø‡¶ü‡¶ø ‡¶®‡¶∑‡ßç‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∞‡ßç‡¶° ‡¶π‡¶æ‡¶∞‡¶ø‡ßü‡ßá ‡¶ó‡ßá‡¶õ‡ßá</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶õ‡ßá ‡¶®‡¶æ</li>
                <li><input type="checkbox"> ‡¶ü‡¶æ‡¶∞‡ßç‡¶Æ‡¶ø‡¶®‡¶æ‡¶≤ ‡¶ï‡¶≠‡¶æ‡¶∞ ‡¶ñ‡ßÅ‡¶≤‡ßá ‡¶´‡ßá‡¶≤‡ßá‡¶õ‡¶ø / ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ï‡ßá‡¶â ‡¶ñ‡ßÅ‡¶≤‡ßá‡¶õ‡ßá</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá ‡¶Ü‡¶â‡¶ü‡¶™‡ßÅ‡¶ü ‡¶®‡ßá‡¶á</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ / ‡¶∏‡¶Æ‡ßü ‡¶†‡¶ø‡¶ï ‡¶®‡ßá‡¶á</li>
                <li><input type="checkbox"> ‡¶®‡¶æ‡¶Æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®</li>
                <li><input type="checkbox"> ‡¶≤‡ßã‡¶° ‡¶¨‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®</li>
                <li><input type="checkbox"> ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ / ‡¶≤‡ßã-‡¶≠‡ßã‡¶≤‡ßç‡¶ü‡ßá‡¶ú ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ</li>
                <li><input type="checkbox"> ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶®‡ßá‡¶á</li>
                <li><input type="checkbox"> ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø .....................................................................................</li>
            </ol>
        </section>

        <div class="signature">
            <div class="sig-line">‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶ï‡ßç‡¶∑‡¶∞</div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-print" onclick="window.print()">üñ®Ô∏è ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü</button>
            <button class="btn btn-pdf" onclick="saveAsPDF()">üìÑ PDF ‡¶∏‡ßá‡¶≠</button>
            <button class="btn btn-back" onclick="showSearchSection()">‚Üê ‡¶®‡¶§‡ßÅ‡¶® ‡¶ñ‡ßã‡¶Å‡¶ú</button>
            <button class="btn btn-close" onclick="closeForm()">‚úï ‡¶¨‡¶®‡ßç‡¶ß</button>
        </div>

    </div>
</div>

<script>
// Add PDF save function
function saveAsPDF() {
    if (window.AndroidInterface && AndroidInterface.saveAsPDF) {
        AndroidInterface.saveAsPDF();
    } else {
        // Fallback to print on mobile
        alert('PDF ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®');
        window.print();
    }
}

/* ------- EXISTING JS LOGIC ------- */
let selectedType = 'prepaid';

function debugLog(msg){
    const d=document.getElementById("debugLog");
    d.innerHTML+=msg+"<br>";
    d.scrollTop=d.scrollHeight;
}

function selectType(t){
    selectedType=t;
    document.getElementById("prepaidBtn").classList.toggle("active",t==="prepaid");
    document.getElementById("postpaidBtn").classList.toggle("active",t==="postpaid");
}

function fetchData(){
    const input=document.getElementById("searchInput").value.trim();
    if(!input){ showError("‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Æ‡¶ø‡¶ü‡¶æ‡¶∞ ‡¶®‡¶Ç ‡¶¨‡¶æ ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï ‡¶®‡¶Ç ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!"); return; }

    showLoading();

    if(window.AndroidInterface){
        try{
            const result=AndroidInterface.fetchDataForApplication(input,selectedType);
            const data=JSON.parse(result);
            fillFormWithData(data);
        }catch(err){ showError("App error: "+err); }
    } else {
        showError("AndroidInterface not available");
    }
}

function fillFormWithData(data){
    hideLoading();
    if(data.error){ showError(data.error); return; }

    document.getElementById("customerName").textContent=data.customer_name||"-";
    document.getElementById("fatherName").textContent=data.father_name||"-";
    document.getElementById("address").textContent=data.address||"-";
    document.getElementById("mobileNo").textContent=data.mobile_no||"-";
    document.getElementById("meterNo").textContent=data.meter_no||"-";
    document.getElementById("consumerNo").textContent=data.consumer_no||"-";

    document.getElementById("arrear").textContent =
        (data.arrear && data.arrear!=="0") ? data.arrear : "‡¶ï‡ßã‡¶®‡¶ì ‡¶¨‡¶ï‡ßá‡¶Ø‡¶º‡¶æ ‡¶®‡ßá‡¶á";
    
    const tbody=document.getElementById("rechargeTable").querySelector("tbody");
    tbody.innerHTML="";
    
    let rechargeData = data.recharges || [];
    let count = 0;
    
    rechargeData.slice(0, 4).forEach(r=>{
        tbody.innerHTML+=`<tr><td>${r.Date||"-"}</td><td>${r.Amount||"-"}</td></tr>`;
        count++;
    });
    
    for (let i = count; i < 4; i++) {
        tbody.innerHTML += `<tr><td>-</td><td>-</td></tr>`;
    }

    document.getElementById("searchSection").style.display="none";
    document.getElementById("formSection").style.display="block";
}

function showLoading(){
    document.getElementById("loading").style.display="block";
    document.getElementById("searchBtn").disabled=true;
    document.getElementById("searchBtn").textContent="‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶õ‡¶ø...";
}

function hideLoading(){
    document.getElementById("loading").style.display="none";
    document.getElementById("searchBtn").disabled=false;
    document.getElementById("searchBtn").textContent="‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®";
}

function showError(m){
    document.getElementById("error").textContent=m;
    document.getElementById("error").style.display="block";
    hideLoading();
}

function hideError(){ document.getElementById("error").style.display="none"; }

function showSearchSection(){
    document.getElementById("formSection").style.display="none";
    document.getElementById("searchSection").style.display="block";
}

function closeForm(){
    if(window.AndroidInterface){ AndroidInterface.closeApplication(); }
}

document.addEventListener('DOMContentLoaded', () => {
    selectType(selectedType);
});
</script>
</body>
</html>